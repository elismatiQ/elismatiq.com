<footer class="site-footer">
  
  <!-- Texture Lines (Background) -->
  <div class="lines">
    <div class="lines-container">
      <div class="line-col"></div>
      <div class="line-col"></div>
      <div class="line-col"></div>
    </div>
  </div>

  <div class="container">
    <div class="footer-grid">
      <!-- Column 1: Brand & Contact Info -->
      <div class="footer-col-1">
        <a href="/{{ lang }}/" class="footer-brand-logo">
          <img src="/assets/img/logo-elismatiq-colored.svg" alt="" style="width: 11.7rem; height: auto;">
        </a>        
        <div class="footer-address-block">
          <p class="footer-heading">{{ 'footerAddressLabel' | t }}</p>
          <p>299 Bank St, Ottawa Canada</p>
        </div>
        
        <div class="footer-address-block">
          <p class="footer-heading">{{ 'footerEmailLabel' | t }}</p>
          <p>{{ site.email | obfuscateEmail | safe }}</p>
        </div>
      </div>
      
      <!-- Column 2: Navigation -->
      <nav class="footer-col-2 footer-nav" aria-label="Footer navigation">
        <h3 class="footer-heading">{{ 'footerMenuLabel' | t }}</h3>
        <ul>
          {% set navItems = locales.navigation.main[lang] | default(locales.navigation.main.en) %}
          {% for item in navItems %}
          <li><a href="{{ item.url }}">{{ item.label }}</a></li>
          {% endfor %}
        </ul>
      </nav>
      
      <!-- Column 3: Subscribe -->
      <div class="footer-col-3 footer-subscribe">
        <h3 class="footer-heading">{{ 'footerSubscribeLabel' | t }}</h3>
        <p>{{ 'newsletterText' | t }}</p>
        
        <form class="subscribe-form esp-subscribe-form" accept-charset="UTF-8" action="https://api.cakemail.dev/form_submission/7996751fe7d040934f2afebc5382bd30e0e1d14f9af678921e32fadc2fba3479de4a387eec819c54a5f36b75f4300887" autocomplete="on" enctype="multipart/form-data" method="post" target="_self">
          <label for="esp-email-{{ lang }}" class="sr-only">{{ 'emailLabel' | t }}</label>
          <input type="email" id="esp-email-{{ lang }}" name="email" class="subscribe-input" placeholder="{{ 'emailLabel' | t }}" required>
          <button type="submit" name="submit_button" class="subscribe-btn">{{ 'subscribeBtn' | t }}</button>
        </form>
      </div>
    </div>
    
    <!-- Bottom Bar -->
    <div class="footer-bottom">
      
      <!-- Copyright -->
      <div class="footer-bottom-col-1">
        <p class="copyright">&copy; elismatiQ. <time datetime="2024">2024</time><br> {{ 'copyright' | t }}</p>
      </div>
      
      <!-- Social Icons -->
      <div class="footer-bottom-col-2">
        <ul class="footer-social">
          <li>
            <a href="{{ site.social.linkedin }}" aria-label="LinkedIn" target="_blank" rel="noopener noreferrer">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="20" height="20"><path d="M444.17 32H70.28C49.85 32 32 46.7 32 66.89v374.72C32 461.91 49.85 480 70.28 480h373.89C466.15 480 480 461.91 480 441.61V66.89C480 46.7 466.15 32 444.17 32zm-37.52 144.97v195.45h-57.06V264.44c0-26.6-9.5-44.75-33.3-44.75-18.15 0-28.98 12.2-33.72 24.16-1.74 4.3-2.18 10.27-2.18 16.24v91.33h-57.04s.74-148.24 0-163.53h57.04v23.18c7.58-11.7 21.13-28.38 51.52-28.38 37.64 0 65.84 24.57 65.84 77.42l-.1 130.63zM108.99 157.19c-19.58 0-32.37-13.4-32.37-29.83 0-16.71 13.04-29.85 33.19-29.85 20.01 0 32.4 13.14 32.8 29.85.39 16.53-12.78 29.83-33.62 29.83zM137 372.42H81V208.89h56v163.53z"/></svg>
            </a>
          </li>
          <li>
            <a href="{{ site.social.twitter }}" aria-label="X / Twitter" target="_blank" rel="noopener noreferrer">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="20" height="20"><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM365.7 421.8h39.1L151.1 88h-42L365.7 421.8z"/></svg>
            </a>
          </li>
          <li>
            <a href="{{ site.social.github }}" aria-label="GitHub" target="_blank" rel="noopener noreferrer">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="20" height="20"><path d="M256 32C132.3 32 32 134.9 32 261.7c0 101.5 64.2 187.5 153.2 217.9 1.4.3 2.6.4 3.8.4 8.3 0 11.5-6.1 11.5-11.4 0-5.5-.2-19.9-.3-39.1-8.4 1.9-15.9 2.7-22.6 2.7-43.1 0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1 1.4-14.1h.1c22.5 2 34.3 23.8 34.3 23.8 11.2 19.6 26.2 25.1 39.6 25.1 10.5 0 20-3.4 25.6-6 2-14.8 7.8-24.9 14.2-30.7-49.7-5.8-102-25.5-102-113.5 0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8 0 0 1.6-.5 5-.5 8.1 0 26.4 3.1 56.6 24.1 17.9-5.1 37.6-7.6 57.4-7.7 19.8.1 39.1 2.6 57.4 7.7 30.2-20.8 48.5-24.1 56.6-24.1 3.4 0 5 .5 5 .5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6 0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5 0 30.7-.3 55.5-.3 63 0 5.4 3.1 11.5 11.4 11.5 1.2 0 2.6-.1 4-.4C415.9 449.2 480 363.1 480 261.7 480 134.9 379.7 32 256 32z"/></svg>
            </a>
          </li>
        </ul>
      </div>
      
      <!-- Language Toggle -->
      <div class="footer-bottom-col-3">
        {% set altLang = 'fr' if lang == 'en' else 'en' %}
        {% set translatedUrl = "" %}
        {% if translationKey %}
          {% for item in collections.all %}
            {% if item.data.translationKey == translationKey and item.data.lang == altLang %}
              {% set translatedUrl = item.url %}
            {% endif %}
          {% endfor %}
        {% endif %}

        {% if not translatedUrl %}
          {% if lang == 'en' %}
            {% set translatedUrl = page.url | replace('/en/', '/fr/') | replace('/blog/', '/blogue/') | replace('/about/', '/a-propos/') %}
          {% else %}
            {% set translatedUrl = page.url | replace('/fr/', '/en/') | replace('/blogue/', '/blog/') | replace('/a-propos/', '/about/') %}
          {% endif %}
        {% endif %}

        <ul class="language-toggle">
          <li class="{% if lang == 'en' %}active{% endif %}">
            <a href="{{ page.url if lang == 'en' else translatedUrl }}">ENG</a>
          </li>
          <li class="{% if lang == 'fr' %}active{% endif %}">
            <a href="{{ page.url if lang == 'fr' else translatedUrl }}">FRA</a>
          </li>
        </ul>
      </div>
      
    </div>
  </div>
</footer>

